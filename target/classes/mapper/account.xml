<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.account">
<select id="findAccount" resultType="com.hanbit.web.account.AccountVO">
select account, money, id, name, ssn from bank_member order by name
</select>
<select id="findByAcc" parameterType="int" resultType="com.hanbit.web.account.AccountVO">
select * from bank_member where account = #{account}
</select>
<select id="findByName" parameterType="string" resultType="com.hanbit.web.account.AccountVO">
select * from bank_member where name = #{name}
</select>
<select id="count" resultType="int">
select count(*) as count from account
</select>

<insert id="openAccount" parameterType="com.hanbit.web.account.AccountVO">
insert into bank(id, account_no, money) values(#{id}, #{accountNo}, #{money})
</insert>
<update id="updateAccount" parameterType="com.hanbit.web.account.AccountVO">
update member set pw = #{pw} where id = #{id}
</update>
<update id="deposit" parameterType="com.hanbit.web.account.AccountVO">
update bank set money = money + #{money} where account_no = #{accountNo}
</update>
<update id="withdraw" parameterType="com.hanbit.web.account.AccountVO">
update bank set money = money - #{money} where account_no = #{accountNo}
</update>
<delete id="deleteAccount" parameterType="com.hanbit.web.account.AccountVO">
delete from bank where account_no = #{accountNo}
</delete>
</mapper>